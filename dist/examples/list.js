"use strict";
const transformer_1 = require("../transformer");
const utils_1 = require("../utils");
class ListVisitor extends transformer_1.ASTTransformVisitor {
    visitFieldDeclaration(node) {
        const mem = this.program.getElementByDeclaration(node);
        const name = mem.name;
        const _type = this.program.resolver.resolveType(mem.typeNode, mem);
        this.stdout.write(name + ": " + _type.toString() + "\n");
    }
    visitMethodDeclaration(node) { }
    visitClassDeclaration(node) {
        if (utils_1.hasDecorator(node, "list")) {
            super.visit(node.members);
        }
    }
    afterInitialize(program) {
        this.visit(program.sources);
    }
}
module.exports = ListVisitor;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leGFtcGxlcy9saXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxnREFBcUQ7QUFRckQsb0NBQXdDO0FBSXhDLE1BQU0sV0FBWSxTQUFRLGlDQUFtQjtJQUV6QyxxQkFBcUIsQ0FBQyxJQUFzQjtRQUN4QyxNQUFNLEdBQUcsR0FBbUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQ3RCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUyxFQUFFLEdBQUcsQ0FBRSxDQUFDO1FBQ3JFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxzQkFBc0IsQ0FBQyxJQUF1QixJQUFVLENBQUM7SUFFekQscUJBQXFCLENBQUMsSUFBc0I7UUFDeEMsSUFBSSxvQkFBWSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsRUFBRTtZQUM1QixLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM3QjtJQUNMLENBQUM7SUFFRCxlQUFlLENBQUMsT0FBZ0I7UUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDaEMsQ0FBQztDQUNKO0FBRUQsaUJBQVMsV0FBVyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVNUVHJhbnNmb3JtVmlzaXRvciB9IGZyb20gJy4uL3RyYW5zZm9ybWVyJztcbmltcG9ydCB7XG4gICAgQ2xhc3NEZWNsYXJhdGlvbixcbiAgICBQcm9ncmFtLFxuICAgIEZpZWxkRGVjbGFyYXRpb24sIFxuICAgIEZpZWxkUHJvdG90eXBlLCBcbiAgICBNZXRob2REZWNsYXJhdGlvblxufSBmcm9tICcuLi9hcyc7XG5pbXBvcnQgeyBoYXNEZWNvcmF0b3IgfSBmcm9tICcuLi91dGlscyc7XG5cblxuXG5jbGFzcyBMaXN0VmlzaXRvciBleHRlbmRzIEFTVFRyYW5zZm9ybVZpc2l0b3Ige1xuXG4gICAgdmlzaXRGaWVsZERlY2xhcmF0aW9uKG5vZGU6IEZpZWxkRGVjbGFyYXRpb24pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbWVtID0gPEZpZWxkUHJvdG90eXBlPnRoaXMucHJvZ3JhbS5nZXRFbGVtZW50QnlEZWNsYXJhdGlvbihub2RlKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IG1lbS5uYW1lO1xuICAgICAgICBjb25zdCBfdHlwZSA9IHRoaXMucHJvZ3JhbS5yZXNvbHZlci5yZXNvbHZlVHlwZShtZW0udHlwZU5vZGUhLCBtZW0pITtcbiAgICAgICAgdGhpcy5zdGRvdXQud3JpdGUobmFtZSArIFwiOiBcIiArIF90eXBlLnRvU3RyaW5nKCkgKyBcIlxcblwiKTtcbiAgICB9XG5cbiAgICB2aXNpdE1ldGhvZERlY2xhcmF0aW9uKG5vZGU6IE1ldGhvZERlY2xhcmF0aW9uKTogdm9pZCB7IH1cblxuICAgIHZpc2l0Q2xhc3NEZWNsYXJhdGlvbihub2RlOiBDbGFzc0RlY2xhcmF0aW9uKTogdm9pZCB7XG4gICAgICAgIGlmIChoYXNEZWNvcmF0b3Iobm9kZSwgXCJsaXN0XCIpKSB7XG4gICAgICAgICAgICBzdXBlci52aXNpdChub2RlLm1lbWJlcnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWZ0ZXJJbml0aWFsaXplKHByb2dyYW06IFByb2dyYW0pOiB2b2lkIHtcbiAgICAgICAgdGhpcy52aXNpdChwcm9ncmFtLnNvdXJjZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0ID0gTGlzdFZpc2l0b3I7Il19